## 렉시컬 환경

실행 컨텍스트의 Lexical Enviroment 프로퍼티(컴포넌트),  
각각의 스코프를 구분하여 식별자를 등록하고 관리하는 저장소의 역할   

1. 식별자가 선언되는 환경. 스코프와 식별자를 관리한다.
2. 객체 형태의 스코프(전역, 함수, 블록 스코프)를 만들고 이곳에 식별자를 등록한다. 식별자에 바인딩된 값을 관리

![Lexical_enviroment](https://user-images.githubusercontent.com/33679192/67629978-d4db5a80-f8c2-11e9-9c19-e5dcf7f54cb2.jpg)

1. **Global Enviroment Record(환경 레코드)**  
   식별자 등록, 식별자에 바인딩된 값을 처리하는 저장소.   
   var 및 함수 선언문은 Object Enviroment Record에 저장되고  
   let,  const는 Declarative Enviroment Record에 저장된다.
2. **Outer Lexical Environment Reference(외부 렉시컬 환경)**  
   해당 실행 컨텍스트를 생성한 실행 가능한 코드를 포함하는 상위 렉시컬 환경을 말한다. 이를 통해 단방향 **링크드 리스트인 스코프 체인**을 구현한다.
3. **This Binding(this 바인딩)**

<br>

### 함수객체의 내부슬롯 [[Environment]]

자바스크립트의 모든 함수는 함수 객체를 생성할 때, 현재 실행중인 실행 컨텍스트의 렉시컬 환경을 함수 객체의 내부슬롯 [[Environment]]에 저장한다. 이것이 렉시컬 스코프를 구현하는 메커니즘이다. 이것은 클로저를 이해할 수 있는 중요한 단서이다.

### 정리

> **하는일**
>
> 1. 환경레코드 : 식별자를 등록하고 관리하는 역할 
> 2. 외부 렉시컬환경 : 단방향 리스트인 상위 렉시컬 환경에 스코프 체인 구현
> 3. this 바인딩.
>
> **추가**  
> 함수 객체를 생성할 때, 현재 실행중인 렉시컬 환경을 함수 객체의 내부슬롯 [[Environment]]에 저장한다. 
>
> **결론**
> 식별자 등록 및 결과를 관리하며, 상위 스코프 체인을 구현하고, this를 바인딩한다. 함수객체가 생성될때 함수 내부 슬롯 [[Environment]]는 렉시컬 스코프를 기억한다.